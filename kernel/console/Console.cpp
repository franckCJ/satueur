//------------------------------------------------------------------------------
// includes
//------------------------------------------------------------------------------
// libc includes
#include <stdio.h>

// kernel includes
#include <console/Console.hpp>

//==============================================================================
// 
// Cst / Dst
//
//==============================================================================
//------------------------------------------------------------------------------
// cst
//------------------------------------------------------------------------------
Console* Console::_instance = nullptr;

Console::Console()
{
    _instance = this;
    _instance->_console = console_init();
}

//==============================================================================
//
// Public methods
//
//==============================================================================
//------------------------------------------------------------------------------
// write
//------------------------------------------------------------------------------
void Console::write(const char* s)
{
    printf(s);
}

//------------------------------------------------------------------------------
// set_color
//------------------------------------------------------------------------------
void Console::set_color(enum VGA_COLOR fg, enum VGA_COLOR bg)
{
    _instance->_console->fg = fg;
    _instance->_console->bg = bg;
}

//------------------------------------------------------------------------------
// finalize
//------------------------------------------------------------------------------
void Console::finalize()
{
    _instance = nullptr;
}
